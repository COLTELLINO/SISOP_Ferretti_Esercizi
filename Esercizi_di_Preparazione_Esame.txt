Esercizio 1:
RR(5)
P1 0-5 | P2 5-10 | P3 10-14 | P1 14-19 | P2 19-21 | P3 21-26 | P1 26-31 | P2 31-36 | P3 36-38 | P1 38-43 | P2 43-47
Ta = (23 + 31 + 27) / 3 = 27 ms
Ttr = (43 + 47 + 38) / 3 = 42,6 ms

SJF
P3 0-4 | P2 4-11 | P3 11-18 | P2 18-27 | P1 27-32 | IO 32-35 | P1 35-40 
Ta = (30 + 11 + 7) / 3 = 16 ms
Ttr = (40 + 27 + 18) / 3 = 28,3 ms

FCFS
P1 0-15 | P2 15-22 | P3 22-26 | P1 26-31 | P2 31-40 | P3 40-47
Ta = (11 + 24 + 36) / 3 = 23,6 ms
Ttr = (31 + 40 + 47) / 3 = 39,3 ms

Eserczio 2:
RR(4)
P1 0-4 | P2 4-8 | P3 8-11 | P1 11-15 | P2 15-17 | P3 17-21 | P1 21-23 | P2 23-27 | P3 27-29 | P1 29-33 | P2 33-35 | P1 35-39 
Ta = (21 +  23 + 20) / 3 = 21,3 ms
Ttr = (39 + 35 + 29) / 3 = 27,6 ms

SJF
P3 0-3 | P2 3-9 | P3 9-14 | P2 14-20 | P1 20-30 | IO 30-32 | P1 32-40
Ta = (22 + 8 + 6) / 3 = 12 ms
Ttr = (40 + 20  + 14) / 3 = 24,6 ms

FCFS
P1 0-10 | P2 10-16 | P3 16-19 | P1 19-27 | P2 27-33 | P3 33-38
Ta = (19 + 21 + 30) / 3 = 23,3 ms
Ttr = (27 + 33 + 38) / 3 = 32,6 ms

Esercizio 3:
RR(3)
P1 0-3 | P2 3-6 | P3 6-8 | P1 8-11 | P2 11-13 | P3 13-16 | P1 16-18 | P2 18-21 | P3 21-22 | P1 22-25 | P2 25-28 | P1 28-31 | P2 31-33
Ta = (17 + 20 + 16) / 3 = 17,6 ms
Ttr = (31 + 33 + 22) / 3 =  28,6 ms

SJF
P3 0-2 | P2 2-7 | P3 7-11 | P1 11-19 | P2 19-27 | P1 27-36
Ta = (19 + 14 + 5) / 3 = 12,6 ms
Ttr = (36 + 27 + 11) / 3 = 24,6 ms

FCFS
P1 0-8 | P2 8-13 | P3 13-15 | P1 15-21 | P2 21-29 | P3 29-33
Ta = (7 + 16 + 27) / 3 =  16,6 ms
Ttr = (21 + 29 + 33) / 3 = 27,6 ms

Esercizio 4:
RR(4)
P1 0-4 | P2 4-8 | P3 8-12 | P1 12-16 | P2 16-20 | P3 20-22 | P1 22-26 | P2 26-27 | P3 27-31 | P1 31-35 | P2 35-39 | P3 39-40 | P1 40-44 | P2 44-47 | P1 47-49
Ta = (27 + 31 + 29) / 3 = 29 ms
Ttr = (49 + 47 + 40) / 3 = 45,3 ms

SJF
P3 0-6 | P2 6-15 | P3 15-20 | P2 20-27 | P1 27-39 | IO 39-44 | P1 44-54
Ta = (32 + 11 + 9) / 3 = 17,3 ms
Ttr = (54 + 27 + 20) / 3 = 33,6 ms

FCFS
P1 0-12 | P2 12-21 | P3 21-27 | P1 27-37 | P2 37-44 | P3 44-49
Ta = (15 + 28 + 38) / 3 = 27 ms
Ttr = (37 + 44 + 49) / 3 = 43,3 ms

Esercizio 5:
RR(6)
P1 0-6 | P2 6-12 | P3 12-17 | P1 17-23 | P2 23-27 | P3 27-30 | P1 30-36 | P2 36-42 | P1 42-44 | P2 44-46 | P1 46-51
Ta = (32 + 28 + 18) / 3 = 26 ms
Ttr = (51 + 46 + 30) / 3 = 42,3 ms

SJF
P3 0-5 | P2 5-15 | P3 15-18 | P2 18-26 | P1 26-46 | IO 46-49 | P1 49-54
Ta = (29 + 8 + 10) / 3 = 15,6 ms
Ttr = (54 + 26 + 18) / 3 = 32,6 ms

FCFS
P1 0-20 | P2 20-30 | P3 30-35 | P1 35-40 | P2 40-48 | P3 48-51
Ta = (15 + 30 + 43) / 3 = 29,3 ms
Ttr = (40 + 48 + 51) / 3 = 46,3 ms

Esercizio 6:
RR(4)
P1 0-4 | P2 4-7 | P3 7-11 | P1 11-14 | P2 14-18 | P3 18-19 | P1 19-23 | P2 23-25 | P3 25-29 | P1 29-33 | P3 33-36 | P1 36-37
Ta = (21 + 16 + 24) / 3 = 20,3 ms
Ttr = (37 + 25 + 36) / 3 = 32,6 ms

SJF
P2 0-3 | P3 3-8 | P2 8-14 | P1 14-21 | P3 21-28 | P1 28-37
Ta = (21 + 5 + 16) / 3 = 14 ms
Ttr = (37 + 14 + 28) / 3 = 26,3 ms

FCFS
P1 0-7 | P2 7-10 | P3 10-15 | P1 15-24 | P2 24-30 | P3 30-37
Ta = (8 + 21 + 25) / 3 = 18 ms
Ttr = (24 + 30 + 37) / 3 = 30,3 ms

Esercizio 7:
RR(4)
P1 0-4 | P2 4-8 | P3 8-12 | P1 12-16 | P2 16-17 | P3 17-21 | P1 21-22 | P2 22-26 | P3 26-28 | P1 28-32 | P2 32-36 | P1 36-40 | P1 40-42
Ta = (23 + 23 + 18) / 3 =  21,3 ms 
Ttr = (42 + 36 + 28) / 3 =  35,3 ms

SJF
P3 0-4 | P2 4-9 | P3 9-15 | P2 15-23 | P1 23-32 | IO 32-35 | P1 35-45
Ta = (26 + 10 + 5) / 3 = 13,6 ms
Ttr = (45 + 23 + 15) / 3 = 27,6 ms

FCFS
P1 0-9 | P2 9-14 | P3 14-18 | P1 18-28 | P2 28-36 | P3 36-42
Ta = (9 + 23 + 32) / 3 = 21,3 ms
Ttr = (28 + 36 + 42) / 3 = 35,3 ms

Esercizio 8:
RR(3)
P1 0-3 | P2 3-6 | P3 6-9 | P1 9-12 | P2 12-15 | P3 15-18 | P1 18-21 | P2 21-23 | P3 23-26 | P1 26-27 | P2 27-30 | P3 30-31 | P1 31-34 | P2 34-37 | P1 37-40 | P2 40-43
Ta = (27 + 26 + 21) / 3 = 24,6 ms
Ttr = (40 + 43 + 31) / 3 = 38 ms

SJF
P3 0-6 | P2 6-14 | P3 14-18 | P2 18-27 | P1 27-37 | IO 37-38 | P1 38-44
Ta = (28 + 10 + 8) / 3 = 15,3 ms
Ttr = (44 + 27 + 18) / 3 = 29,6 ms

FCFS
P1 0-10 | P2 10-18 | P3 18-24 | P1 24-30 | P2 30-39 | P3 39-43
Ta = (14 + 22 + 33) / 3 = 23 ms
Ttr = (30 + 39 + 43) / 3 = 37,3 ms

Esercizio 9:
RR(4)
P1 0-4 | P2 4-8 | P3 8-12 | P1 12-16 | P2 16-18 | P3 18-22 | P1 22-26 | P2 26-30 | P3 30-34 | P1 34-36 | P2 36-38 | P3 38-41 | P1 41-45 | P1 45-46
Ta = (26 + 26 + 26) / 3 = 26 ms
Ttr = (46 + 38 + 41) / 3 = 41,6 ms

SJF
P2 0-6 | P3 6-14 | P2 14-20 | P3 20-27 | P1 27-41 | IO 41-43 | P1 43-48
Ta = (29 + 8 + 12) / 3 = 16,3 ms
Ttr = (48 + 20 + 27) / 3 = 31,6 ms

FCFS
P1 0-14 | P2 14-20 | P3 20-28 | P1 28-33 | P2 33-39 | P3 39-46
Ta = (14 + 27 + 31) / 3 = 24 ms
Ttr = (33 + 39 + 46) / 3 = 39,3 ms

Esercizio 10:
RR(5)
P1 0-5 | P2 5-10 | P3 10-13 | P1 13-18 | P2 18-20 | P3 20-25 | P1 25-26 | P2 26-31 | P1 31-36 | P2 36-39 | P1 39-40
Ta = (23 + 24 + 17) / 3 = 21,3 ms
Ttr = (40 + 39 + 25) / 3 = 34,6 ms

SJF
P3 0-3 | P2 3-10 | P3 10-15 | P2 15-23 | P1 23-34 | IO 34-36 | P1 36-42
Ta = (25 + 8 + 7) / 3 = 13,3 ms
Ttr = (42 + 23 + 15) / 3 = 26,6 ms

FCFS
P1 0-11 | P2 11-18 | P3 18-21 | P1 21-27 | P2 27-35 | P3 35-40
Ta = (10 + 20 + 32) / 3 = 20,6 ms
 
Esercizio 11:
2 7 9 5 2 7 6 3 8 5 9 3 4 6
2     pf
2 7   pf
2 7 9 pf
7 9 5 pf
9 5 2 pf
5 2 7 pf
2 7 6 pf
7 6 3 pf
6 3 8 pf
3 8 5 pf
8 5 9 pf
5 9 3 pf
9 3 4 pf
3 4 6 pf

Esercizio 12:
4 3 6 8 3 7 9 5 1 4 6 7 8 2
4       pf
4 3     pf
4 3 6   pf
4 3 6 8 pf
4 6 8 3
6 8 3 7 pf
8 3 7 9 pf
3 7 9 5 pf
7 9 5 1 pf
9 5 1 4 pf
5 1 4 6 pf
1 4 6 7 pf
4 6 7 8 pf
6 7 8 2 pf

Esercizio 13:
3 8 6 4 2 9 7 5 1 8 6 3 2 5
3         pf
3 8       pf
3 8 6     pf
3 8 6 4   pf
3 8 6 4 2 pf
8 6 4 2 9 pf
6 4 2 9 7 pf
4 2 9 7 5 pf
2 9 7 5 1 pf
9 7 5 1 8 pf
7 5 1 8 6 pf
5 1 8 6 3 pf
1 8 6 3 2 pf
8 6 3 2 5 pf

Esercizio 14:
5 9 2 6 1 7 4 3 2 8 5 1 4 6
5     pf
5 9   pf
5 9 2 pf
9 2 6 pf
2 6 1 pf
6 1 7 pf
1 7 4 pf
7 4 3 pf
4 3 2 pf
3 2 8 pf
2 8 5 pf
8 5 1 pf
5 1 4 pf
1 4 6 pf

Esercizio 15:
6 3 1 8 7 5 4 2 9 3 6 8 7 5
6     pf
6 3   pf
6 3 1 pf
3 1 8 pf
1 8 7 pf
8 7 5 pf
7 5 4 pf
5 4 2 pf
4 2 9 pf
2 9 3 pf
9 3 6 pf
3 6 8 pf
6 8 7 pf
8 7 5 pf

Esercizio 16:
8 2 5 7 4 1 3 6 9 8 2 5 4 7
8     pf
8 2   pf
8 2 5 pf
2 5 7 pf
5 7 4 pf
7 4 1 pf
4 1 3 pf
1 3 6 pf
3 6 9 pf
6 9 8 pf
9 8 2 pf
8 2 5 pf
2 5 4 pf
5 4 7 pf

Esercizio 17:
7 1 4 6 3 5 9 2 8 7 1 4 6 3
7         pf
7 1       pf
7 1 4     pf
7 1 4 6   pf
7 1 4 6 3 pf
1 4 6 3 5 pf
4 6 3 5 9 pf
6 3 5 9 2 pf
3 5 9 2 8 pf
5 9 2 8 7 pf
9 2 8 7 1 pf
2 8 7 1 4 pf
8 7 1 4 6 pf
7 1 4 6 3 pf

Esercizio 18:
1 5 9 3 2 6 8 7 4 1 5 9 3 2
1       pf
1 5     pf
1 5 9   pf
1 5 9 3 pf
5 9 3 2 pf
9 3 2 6 pf
3 2 6 8 pf
2 6 8 7 pf
6 8 7 4 pf
8 7 4 1 pf
7 4 1 5 pf
4 1 5 9 pf
1 5 9 3 pf
5 9 3 2 pf

Esercizio 19:
9 7 2 4 6 3 1 8 5 9 7 2 4 6
9     pf
9 7   pf
9 7 2 pf
7 2 4 pf
2 4 6 pf
4 6 3 pf
6 3 1 pf
3 1 8 pf
1 8 5 pf
8 5 9 pf
5 9 7 pf
9 7 2 pf
7 2 4 pf
2 4 6 pf

Esercizio 20:
3 6 8 1 4 9 2 5 7 3 6 8 1 4
3       pf
3 6     pf
3 6 8   pf
3 6 8 1 pf
6 8 1 4 pf
8 1 4 9 pf
1 4 9 2 pf
4 9 2 5 pf
9 2 5 7 pf
2 5 7 3 pf
5 7 3 6 pf
7 3 6 8 pf
3 6 8 1 pf
6 8 1 4 pf

Esercizio 21:
Bisogno:
P1: 2 1 0
P2: 1 2 1
P3: 0 1 1
P4: 2 0 0
P5: 2 1 1
Risorse: 1 1 0
Il sistema non è in uno stato sicuro.

Esercizio 22:
Bisogno:
P1: 2 1 1 
P2: 1 1 2
P3: 2 0 0
P4: 2 1 1
Risorse: 1 1 2
Risorse: 3 2 2
Risorse: 4 4 3
Risorse: 4 7 4
Risorse: 5 7 6
Sequenza sicura: P2, P1, P3, P4.

Esercizio 23:
Bisogno:
P1: 1 2 2
P2: 3 0 1
P3: 1 2 0
P4: 1 1 0
P5: 3 2 0
Risorse: 1 1 0
Risorse: 5 4 3
Risorse: 7 6 4
Risorse: 8 8 4
Risorse: 10 9 6
Sequenza sicura: P4, P3, P1, P2, P5.

Esercizio 24:
Bisogno:
P1: 1 1 1 1
P2: 1 1 1 1
P3: 1 1 1 1
P4: 1 0 1 1
P5: 1 1 1 1
Risorse: 2 1 1 0
Il sistema non è in uno stato sicuro.

Esercizio 25:
Bisogno:
P1: 2 2 1
P2: 2 1 1
P3: 3 1 1 
P4: 1 2 2
Risorse: 1 1 2
Il sistema non è in uno stato sicuro.

Esercizio 26:
Bisogno:
P1: 1 1 1
P2: 2 1 2
P3: 1 1 0 
P4: 1 0 0
P5: 0 1 2
Risorse: 1 2 1
Risorse: 2 4 2
Risorse: 4 4 2
Risorse: 5 5 4
Risorse: 5 8 7
Risorse: 8 9 7
Sequenza sicura: P1, P2, P3, P4, P5.

Esercizio 27:
P1: 2 2 1
P2: 1 3 1
P3: 1 0 1
P4: 1 1 1
Risorse: 1 1 2
Risorse: 2 4 4
Risorse: 3 6 5
Risorse: 5 6 5
Risorse: 8 7 6
Sequenza sicura: P3, P1, P2, P4

Esercizio 28:
Process A {
  while (true) {
    print("Hel");
    V(SemB);
    P(SemA);
  }
}

Process B {
  while (true) {
    P(SemB);
    print("lo ");
    V(SemC);
  }
}

Process C {
  while (true) {
    P(SemC);
    print("World!\n");
    V(SemA);
  }
}


Esercizio 29:
Process A {
  while (true) {
    print("A");
    V(SemB);
    P(SemA);
    print("E");
    V(SemC);
    P(SemA);
  }
}

Process B {
  while (true) {
    P(SemB);
    print("B");
    V(SemA);
    P(SemB);
    print("F");
    V(SemA);
  }
}

Process C {
  while (true) {
    P(SemC);
    print("C");
    V(SemD);
  }
}

Process D {
  while (true) {
    P(SemD);
    print("D");
    V(SemB);
  }
}

Esercizio 30:
Process A {
  while (true) {
    int x = calculate();
    V(SemB);
  }
}

Process B {
  while (true) {
    P(SemB);
    int y = calculate();
    int sum = x + y;
    print(sum);
  }
}

condition B_calculate (per attivare B)

void calculateA() {
  int x = calculate();
  B_calculate.signal();
}

void calculateB() {
  B_calculate.wait();
  int y = calculate();
  int sum = x + y;
  print(sum);
}

B.calculateB();
A.calculateA();

Process A {
  while (true) {
    int x = calculate();
    asend(M, B);
  }
}

Process B {
  while (true) {
    sreceive(M, B);
    int y = calculate();
    int sum = x + y;
    print(sum);
  }
}

Esercizio 31:
Process A {
  while (true) {
    x = generateNumber();
    asend(x, B);
    asend(x, C);
    sreceive(y, B);
    sreceive(z, C);
    int average = (x + y + z) / 3;
    print(average);
  }
}

Process B {
  while (true) {
    y = generateNumber();
    asend(y, A);
    asend(y, C);
    sreceive(x, A);
    sreceive(z, C);
    int average = (x + y + z) / 3;
    print(average);
  }
}

Process C {
  while (true) {
    z = generateNumber();
    asend(z, A);
    asend(z, B);
    sreceive(x, A);
    sreceive(y, B);
    int average = (x + y + z) / 3;
    print(avarage);
  }
}

mutex = 1;
mutey = 1;
mutez = 1;
SemA = 0;
SemB = 0;
SemC = 0;

Process A {
    while (true) {
      x = generateNumber();
      V(SemC);
      V(mutey);
      P(mutex);
      P(SemA);
      int average = (x + y + z) / 3;
      print(average);
  }
}

Process B {
  while (true) {
    y = generateNumber();
      V(SemA);
      V(mutez);
      P(mutey);
      P(SemB);
    int average = (x + y + z) / 3;
    print(average);
  }
}

Process C {
  while (true) {
    z = generateNumber();
      V(SemB);
      V(mutex);
      P(mutez);
      P(SemC);
    int average = (x + y + z) / 3;
    print(avarage);
  }
}

condition A_calculate (attiva A)
condition B_calculate (attiva B)
condition C_calculate (attiva C)

void calculateA() {
  x = generateNumber();
  B_calculate.signal();
  C_calculate.signal();
  A_calculate.wait();
  A_calculate.wait();
  int average = (x + y + z) / 3;
  print(average);
}

void calculateB() {
  y = generateNumber();
  A_calculate.signal();
  C_calculate.signal();
  B_calculate.wait();
  B_calculate.wait();
  int average = (x + y + z) / 3;
  print(average);
}

void calculateC() {
  z = generateNumber();
  A_calculate.signal();
  B_calculate.signal();
  C_calculate.wait();
  C_calculate.wait();
  int average = (x + y + z) / 3;
  print(average);
}







